<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Webpack App</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body>
    <script
      type="systemjs-importmap"
      src="https://react.microfrontends.app/importmap.json"
    ></script>
    <script type="systemjs-importmap">
      {
        "imports": {
          "basic-parcel": "/main.js"
        },
        "foo": "/foo.js"
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs/dist/system.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs/dist/extras/amd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs/dist/extras/named-exports.js"></script>
    <script>
      Promise.all([
        System.import("single-spa"),
        System.import("basic-parcel"),
      ]).then(function (values) {
        const singleSpa = values[0];
        const parcelConfig = values[1];
        const parcelContainer = document.createElement("div");
        parcelContainer.id = "parcel-container";
        document.body.appendChild(parcelContainer);
        singleSpa.mountRootParcel(parcelConfig, {
          domElement: parcelContainer,
          name: "basic-parcel",
        });
      });
    </script>
  </body>
</html>
